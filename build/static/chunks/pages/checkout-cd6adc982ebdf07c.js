(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{7250:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return n(1292)}])},6540:function(e,t,n){"use strict";n.d(t,{C:function(){return s},T:function(){return i}});var r=n(9473);let i=()=>(0,r.I0)(),s=r.v9},9317:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(5893),i=n(1233),s=n(9008),a=n.n(s),l=n(1163),o=n(7294),c=n(7357),d=n(5582),x=n(5861),h=n(1664),m=n.n(h),u=n(8624),p=n(6200);function j(){let e=(0,u.g)();return(0,r.jsx)(c.Z,{sx:{display:"flex",flexDirection:"column",paddingTop:10},children:(0,r.jsx)(c.Z,{component:"footer",sx:{height:100,py:4.5,px:2,mt:"auto",backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[800]},children:(0,r.jsx)(d.Z,{maxWidth:"lg",children:(0,r.jsxs)(m(),{passHref:!0,href:"/",style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(p.Z,{fontSize:"large",sx:{color:e.palette.grey[400],mr:.5}}),(0,r.jsx)(x.Z,{variant:"h6",sx:{fontWeight:500,color:e.palette.grey[400]},children:"localShop"})]})})})})}var f=n(5573),g=n(432),Z=n(5500),v=n(9661),y=n(6540),b=n(7502),P=n(3321);function C(e){let{isLoggedIn:t}=e,n=(0,u.g)(),s=(0,l.useRouter)(),a=(0,y.T)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{maxWidth:!1,sx:{zIndex:99,position:"fixed",top:0,alignItems:"center",width:"100%",backgroundColor:n.palette.background.default},children:(0,r.jsxs)(i.Z,{direction:"row",p:2,sx:{px:{lg:4,md:0,sm:1,xs:0},maxWidth:"lg",mx:"auto",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[(0,r.jsxs)(m(),{passHref:!0,href:"/",style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(v.Z,{sx:{bgcolor:"#fff",mr:1},children:(0,r.jsx)(p.Z,{fontSize:"large",sx:{color:n.palette.secondary.main}})}),(0,r.jsx)(x.Z,{variant:"h6",sx:{fontWeight:500,color:n.palette.grey[400]},children:"localShop"})]}),(0,r.jsxs)(i.Z,{direction:"row",spacing:4,alignItems:"center",children:[(0,r.jsx)(m(),{passHref:!0,href:"/products",children:(0,r.jsx)(x.Z,{color:n.palette.grey[400],children:"Products"})}),(0,r.jsx)(m(),{passHref:!0,href:"/contacts",children:(0,r.jsx)(x.Z,{color:n.palette.grey[400],children:"Contacts"})}),(0,r.jsxs)(i.Z,{direction:"row",spacing:1,children:[(0,r.jsx)(m(),{passHref:!0,href:"/wishlist",children:(0,r.jsx)(v.Z,{sx:{bgcolor:"#fff"},children:(0,r.jsx)(g.Z,{sx:{color:n.palette.secondary.main}})})}),(0,r.jsx)(m(),{passHref:!0,href:"/checkout",children:(0,r.jsx)(v.Z,{sx:{bgcolor:"#fff"},children:(0,r.jsx)(Z.Z,{sx:{color:n.palette.secondary.main}})})}),t&&(0,r.jsx)(m(),{passHref:!0,href:"/account",children:(0,r.jsx)(v.Z,{sx:{bgcolor:"#fff"},children:(0,r.jsx)(f.Z,{sx:{color:n.palette.secondary.main}})})})]}),!t&&(0,r.jsx)(m(),{passHref:!0,href:"/login",children:(0,r.jsx)(P.Z,{variant:"contained",children:"Login"})}),t&&(0,r.jsx)(P.Z,{variant:"contained",onClick:()=>{a(b.kS),s.push("/login"),sessionStorage.removeItem("jwt"),s.push("/login")},children:"Log out"})]})]})}),(0,r.jsx)(c.Z,{sx:{height:85}})]})}var w=e=>{let{children:t}=e,n=(0,l.useRouter)(),[s,c]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=sessionStorage.getItem("jwt");e&&c(!0),e||(c(!1),"/account"===n.pathname&&n.push("/login"))},[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"Create Next App"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(i.Z,{sx:{height:"100%",position:"relative"},children:[(0,r.jsx)(C,{isLoggedIn:s}),(0,r.jsx)(i.Z,{minHeight:"calc(100vh - 265px)",sx:{pt:"60px",maxWidth:"100vw",overflow:"hidden"},children:t}),(0,r.jsx)(j,{})]})]})}},9757:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(5893),i=n(6200),s=n(1233),a=n(5861),l=n(8624);let o=e=>{let{title:t,main:n}=e,o=(0,l.g)();return(0,r.jsxs)(r.Fragment,{children:[!n&&(0,r.jsxs)(s.Z,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,r.jsx)(i.Z,{fontSize:"small",sx:{color:o.palette.secondary.main}}),(0,r.jsx)(a.Z,{component:"h1",variant:"h4",fontWeight:500,children:t})]}),n&&(0,r.jsx)(s.Z,{direction:"row",children:(0,r.jsx)(a.Z,{component:"h1",variant:"h1",fontWeight:500,textAlign:"center",pb:4,children:t})})]})}},1292:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(5893),i=n(7357),s=n(3321),a=n(5582),l=n(629),o=n(4472),c=n(3578),d=n(6624),x=n(5861),h=n(7294),m=n(6886),u=n(3885),p=n(480),j=n(5071),f=n(6154);function g(){let[e,t]=(0,h.useState)();return(0,h.useEffect)(()=>{let e=sessionStorage.getItem("userId");f.Z.get("".concat("http://154.49.136.99:1339","/api/users/").concat(e,"?populate=*")).then(e=>{console.log(e.data,"GET response"),t(e.data)}).catch(e=>console.log("Error: ".concat(e)))},[]),(0,r.jsxs)(h.Fragment,{children:[(0,r.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Shipping address"}),(0,r.jsxs)(m.ZP,{container:!0,spacing:2,pt:1,children:[(0,r.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(u.Z,{variant:"standard",InputLabelProps:{shrink:!0},autoComplete:"given-name",name:"firstName",value:null==e?void 0:e.firstName,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(u.Z,{variant:"standard",value:null==e?void 0:e.lastName,InputLabelProps:{shrink:!0},fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name"})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(u.Z,{variant:"standard",InputLabelProps:{shrink:!0},fullWidth:!0,value:null==e?void 0:e.phone,id:"phone",label:"Phone",name:"phone",autoComplete:"phone"})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(u.Z,{variant:"standard",InputLabelProps:{shrink:!0},fullWidth:!0,value:null==e?void 0:e.postcode,id:"postcode",label:"Postcode",name:"postcode",autoComplete:"family-name"})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{variant:"standard",InputLabelProps:{shrink:!0},fullWidth:!0,value:null==e?void 0:e.address,id:"address",label:"Address",name:"address",autoComplete:"family-name"})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(u.Z,{variant:"standard",InputLabelProps:{shrink:!0},fullWidth:!0,value:null==e?void 0:e.city,id:"city",label:"City",name:"city",autoComplete:"family-name"})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(u.Z,{variant:"standard",InputLabelProps:{shrink:!0},fullWidth:!0,value:null==e?void 0:e.country,id:"country",label:"Country",name:"country",autoComplete:"family-name"})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,children:(0,r.jsx)(p.Z,{control:(0,r.jsx)(j.Z,{value:null==e?void 0:e.subscribed,color:"primary",checked:null==e?void 0:e.subscribed,name:"subscribed"}),label:"I want to receive emails from you."})})]})]})}function Z(){return(0,r.jsxs)(h.Fragment,{children:[(0,r.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Payment method"}),(0,r.jsxs)(m.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(u.Z,{required:!0,id:"cardName",label:"Name on card",fullWidth:!0,autoComplete:"cc-name",variant:"filled"})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(u.Z,{required:!0,id:"cardNumber",label:"Card number",fullWidth:!0,autoComplete:"cc-number",variant:"filled"})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(u.Z,{required:!0,id:"expDate",label:"Expiry date",fullWidth:!0,autoComplete:"cc-exp",variant:"filled"})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(u.Z,{required:!0,id:"cvv",label:"CVV",helperText:"Last three digits on signature strip",fullWidth:!0,autoComplete:"cc-csc",variant:"filled"})}),(0,r.jsx)(m.ZP,{item:!0,xs:12,children:(0,r.jsx)(p.Z,{control:(0,r.jsx)(j.Z,{color:"secondary",name:"saveCard",value:"yes"}),label:"Remember credit card details for next time"})})]})]})}var v=n(8462),y=n(891),b=n(9953);let P=[{name:"Product 1",desc:"A nice thing",price:"$9.99"},{name:"Product 2",desc:"Another thing",price:"$3.45"},{name:"Product 3",desc:"Something else",price:"$6.51"},{name:"Product 4",desc:"Best thing of all",price:"$14.11"},{name:"Shipping",desc:"",price:"Free"}],C=["1 MUI Drive","Reactville","Anytown","99999","USA"],w=[{name:"Card type",detail:"Visa"},{name:"Card holder",detail:"Mr John Smith"},{name:"Card number",detail:"xxxx-xxxx-xxxx-1234"},{name:"Expiry date",detail:"04/2024"}];function k(){return(0,r.jsxs)(h.Fragment,{children:[(0,r.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Order summary"}),(0,r.jsxs)(v.Z,{disablePadding:!0,children:[P.map(e=>(0,r.jsxs)(y.ZP,{sx:{py:1,px:0},children:[(0,r.jsx)(b.Z,{primary:e.name,secondary:e.desc}),(0,r.jsx)(x.Z,{variant:"body2",children:e.price})]},e.name)),(0,r.jsxs)(y.ZP,{sx:{py:1,px:0},children:[(0,r.jsx)(b.Z,{primary:"Total"}),(0,r.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:700},children:"$34.06"})]})]}),(0,r.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,r.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,r.jsx)(x.Z,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Shipping"}),(0,r.jsx)(x.Z,{gutterBottom:!0,children:"John Smith"}),(0,r.jsx)(x.Z,{gutterBottom:!0,children:C.join(", ")})]}),(0,r.jsxs)(m.ZP,{item:!0,container:!0,direction:"column",xs:12,sm:6,children:[(0,r.jsx)(x.Z,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Payment details"}),(0,r.jsx)(m.ZP,{container:!0,children:w.map(e=>(0,r.jsxs)(h.Fragment,{children:[(0,r.jsx)(m.ZP,{item:!0,xs:6,children:(0,r.jsx)(x.Z,{gutterBottom:!0,children:e.name})}),(0,r.jsx)(m.ZP,{item:!0,xs:6,children:(0,r.jsx)(x.Z,{gutterBottom:!0,children:e.detail})})]},e.name))})]})]})]})}var S=n(9317),W=n(1664),I=n.n(W),N=n(9757);let L=["Shipping address","Payment details","Review your order"];function B(){let[e,t]=h.useState(0);return(0,r.jsx)(S.Z,{children:(0,r.jsx)(a.Z,{component:"main",maxWidth:"sm",sx:{mb:4},children:(0,r.jsxs)(l.Z,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[(0,r.jsx)(N.V,{title:"Checkout"}),(0,r.jsx)(d.Z,{activeStep:e,sx:{pt:3,pb:5},children:L.map(e=>(0,r.jsx)(o.Z,{children:(0,r.jsx)(c.Z,{children:e})},e))}),e===L.length?(0,r.jsxs)(h.Fragment,{children:[(0,r.jsx)(x.Z,{variant:"h5",gutterBottom:!0,children:"Thank you for your order."}),(0,r.jsx)(x.Z,{variant:"subtitle1",children:"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped."}),(0,r.jsx)(i.Z,{mt:4,children:(0,r.jsx)(I(),{style:{marginLeft:"auto",alignSelf:"center",fontWeight:600},passHref:!0,href:"/products",children:(0,r.jsx)(s.Z,{size:"medium",color:"primary",variant:"contained","aria-label":"View products",children:"Shop more"})})})]}):(0,r.jsxs)(h.Fragment,{children:[function(e){switch(e){case 0:return(0,r.jsx)(g,{});case 1:return(0,r.jsx)(Z,{});case 2:return(0,r.jsx)(k,{});default:throw Error("Unknown step")}}(e),(0,r.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[0!==e&&(0,r.jsx)(s.Z,{onClick:()=>{t(e-1)},sx:{mt:3,ml:1},children:"Back"}),(0,r.jsx)(s.Z,{variant:"contained",onClick:()=>{t(e+1)},sx:{mt:3,ml:1},children:e===L.length-1?"Place order":"Next"})]})]})]})})})}}},function(e){e.O(0,[156,875,886,435,970,774,888,179],function(){return e(e.s=7250)}),_N_E=e.O()}]);